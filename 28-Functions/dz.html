<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Function dz</title>
</head>
<body>
Консольная магия
<hr>
<a href="https://jsdoc.app/tags-param.html">@use JSDoc</a>
<script>

  /* ============== start  #1 ========================= */
  /*
  document.body.innerHTML = `
      Задание #1
      <br> Написать функцию, которая принимает 2 числа
      <br> и возвращает -1, если первое меньше, чем второе;
      <br> 1 – если первое больше, чем второе;
      <br> и 0 – если числа равны.
  `;
  /!**
   * Проверка на четные и не четные числа
   * @param {Number} first -
   * @param {Number} second -
   **!/
  const checkOddEvenNumber = (first, second) => {
    if (first < second) {
      return -1
    } else if (first > second){
      return 1
    } else if (first === second) {
      return 0;
    }

    return 'ето не число';
  };

  console.log('first < second', checkOddEvenNumber(1,2));
  console.log('first > second', checkOddEvenNumber(2,1));
  console.log('first === second ', checkOddEvenNumber(2,2));
  console.log('first !== second ', checkOddEvenNumber('2',2));
*/
  /* ============== end  #1 =========================== */

  /* ============== start  #2 ========================= */
  /*
  document.body.innerHTML = `
      Задание #2 - Факториал числа.
      <br> Написать функцию, которая вычисляет факториал переданного ей числа.
      <br>Факториалом числа называют произведение всех натуральных чисел до него включительно.
      <br>Например, факториал числа 5 равен произведению 1 * 2 * 3 * 4 * 5 = 120.
      <br> n! = 1 * 2 * … * n
      <br> где n – это число, n! – факториал этого числа.
  `;

  // Через цикл V1
  function factorialWhile(userNumber){
      let whileFactorial = 1;
      while (userNumber > 1) {
          whileFactorial = whileFactorial * userNumber;
          userNumber = userNumber - 1;
      }
      console.log('while result', whileFactorial);
      return whileFactorial;
  }
  factorialWhile(5);

  // Через цикл V2
  function factorialFor(userNumber){
      let factorialNumber = 0;
      let n = 1;
      for (let i = 1; i < userNumber +1; i++){
          let j = i;
          n = (n) * (j++);
          factorialNumber = n ;
          // console.log(`#${i} F: ${factorialNumber}`);
      }
      console.log('for result',factorialNumber);
      return factorialNumber;
  }
  factorialFor(5);

  /!**
   * Через рекурсию @info: https://learn.javascript.ru/recursion
   * И обрати внимание на вывод console.log
   * @param {Number} userNumber -
   **!/
  function factorial(userNumber) {
      let result = null;
      if (userNumber != 1) {
          result = userNumber * factorial(userNumber - 1)
      } else {
          result = 1;
      }
      console.log('recursion result : ', result);

      return result;
      // return (n != 1) ? n * factorial(n - 1) : 1; // сокращенная форма записи
  }
  factorial(5);
  */
  /* ============== end  #2 =========================== */

  /* ============== start  #2.1 ======================= */
  /*
  document.body.innerHTML = `
      Задание #2.1 - Числа Фибоначчи
      <br> Напишите функцию fib(n) которая возвращает n-е число Фибоначчи.
      <br> Последовательность чисел Фибоначчи определяется формулой
      <br> Fn = Fn-1 + Fn-2.
      <br> То есть, следующее число получается как сумма двух предыдущих.
      <br>Первые два числа равны 1. Затем 2(1+1), затем 3(1+2), 5(2+3) и так далее: 1, 1, 2, 3, 5, 8, 13, 21...
  `;

  /!**
   * Через рекурсию @info: https://learn.javascript.ru/recursion
   * И обрати внимание на вывод console.log
   * @param {Number} n -
   **!/
  function fib(n) {
      if (n <= 1) {
          return n
      } else {
          const a = n - 1;
          const b = n - 2;
          console.log('n', n);
          console.log('a', a);
          console.log('b', b);
          console.log('-----');
          return fib(a) + fib(b);
      }
  }
  console.log(fib(7));
  */
  /* ============== end  #2.1 ========================= */

  /* ============== start  #3 ========================= */
  /*
  document.body.innerHTML = `
      Задание #3
      <br> Написать функцию, которая принимает три отдельные цифры и превращает их в одно число.
      <br> Например: цифры 1, 4, 9 превратятся в число 149.
  `;
  /!**
   * Через рекурсию @info: https://learn.javascript.ru/recursion
   * И обрати внимание на вывод console.log
   * @param {number | string} value - а потом будет конвертированно в Array<number | string>
   * @callback Number | String
   **!/
  function concatValue (...value) {
    return value.reduce((previousValue, currentItem, index, arr) => String(previousValue) + String(currentItem))
  }

  console.log(concatValue(1,2,3,4));
  console.log(concatValue('aaa', 'bbb', 'ccc'));
  */
  /* ============== end  #3 =========================== */

  /* ============== start  #4 ========================= */
  /*
  document.body.innerHTML = `
      Задание #4
      <br> Написать функцию, которая принимает длину и ширину прямоугольника и вычисляет его площадь.
      <br> Если в функцию передали 1 параметр, то она вычисляет площадь квадрата.
  `;
  /!**
   * Через рекурсию @info: https://learn.javascript.ru/recursion
   * И обрати внимание на вывод console.log
   * @param {Number | String} a -
   * @param {Number | String | undefined | null} b -
   **!/
  const areaOfRectangularShapes = (a, b) => {
    if (typeof a !== "number" || (!!b && typeof b !== "number") ){
      return  'ето не число. Введите число';
    }
    if (a && b) {
      return a * b;
    } else if (a || b){
      return  a > 0 ? a * 2 : b * 2;
    }
  };
  console.log(areaOfRectangularShapes(10, 20));
  console.log(areaOfRectangularShapes(20));
  console.log(areaOfRectangularShapes(20, null));
  */
  /* ============== end  #4 =========================== */

  /* ============== start  #5 ========================= */
  /*
  document.body.innerHTML = `
      Задание #5
      <br> Написать функцию, которая проверяет, является ли переданное ей число совершенным.
      <br> Совершенное число – это число, равное сумме всех своих собственных делителей.
  `;
  /!**
   * Совершенное число
   * @info https://ru.wikipedia.org/wiki/%D0%A1%D0%BE%D0%B2%D0%B5%D1%80%D1%88%D0%B5%D0%BD%D0%BD%D0%BE%D0%B5_%D1%87%D0%B8%D1%81%D0%BB%D0%BE
   * @info https://youtu.be/GaIjXH9sSM4
   * @param {Number} insertNumber
   * @callback Number
   **!/
  function isPerfectNumber(insertNumber) {
    if (typeof insertNumber !== "number"  && !isNaN(insertNumber)) {
      return  `${insertNumber} - ето точно не число!`
    }

    /!**
    * Вычисляем делители числа
    * Тоесть введенное чило должно делится без остатка на 2
    * @param {Number} someNum
    * @callback Array<Number> - список всех чисел которые смогли поделить на 2 без остатка
    **!/
    const getDivisors = (someNum) => {
      const resultDivisors = [];
      for (let i = 1; i < someNum; i++) {
        if(someNum % i === 0 ) {
          resultDivisors.push(i);
        }
      }
      return resultDivisors;
    };

    /!**
     * вычеслим сумму масива чисел
     * @param {Array<number>} arrDivisors - масив делителей переданного числа
     * @callback Number - вернем суму масива чисел.
     **!/
    function getSum(arrDivisors) {
      // return arrDivisors.reduce( (previousValue, currentItem, index, arr) => previousValue + currentItem)
      let result = null;
      for (let i = 0; i < arrDivisors.length; i++) {
        result = result + arrDivisors[i];
      }
      return result;
    }

    if (insertNumber === getSum(getDivisors(insertNumber))) {
      return 'И таки Да, Ето совершенное число';
    } else {
      return 'Оооо нет, Ето не совершенное число!';
    }
  }

  function isPerfectNumberShort(insertNumber) {
      let sumDivisors = 0;
      // 1) Вычисляем делители числа
      for (let i = 1; i < insertNumber; i++) {
          if ( insertNumber % i === 0) {
              // 2) вычеслим сумму чисел
              sumDivisors = sumDivisors + i;
          }
      }
      return sumDivisors === insertNumber; // сравнение и результатом будет булиан
  }

  while (true) {
    const num = Number(prompt(`подсказка Совершенные числа ето = 6;28;496;8128
    Дай число!`));
    if (typeof num === "number" && !isNaN(num)) {
      console.log(isPerfectNumber(num));
    } else {
      console.log(`ето было не число!`);
    }

    const isRepeat = confirm('повторить ?');
    if (isRepeat) {
      continue;
    } else {
      break;
    }
  }
*/
  /* ============== end  #5 =========================== */

  /* ============== start  #6 ========================= *
  document.body.innerHTML = `
      Задание #6
      <br> Написать функцию, которая принимает минимальное и максимальное значения для диапазона,
      <br> и выводит только те числа из диапазона, которые являются совершенными.
      <br> Используйте написанную ранее функцию, чтобы узнавать, совершенное число или нет.
  `;
  function perfectNumberForRange(firstN, lastN) {
      for (let i = firstN; i <= lastN; i++) {
          if (isPerfectNumberShort(i)) {
              console.log(i)
          }
      }
  }
  perfectNumberForRange(1, 1000);
  /* ============== end  #6 ========================== */

  /* ============== start  #7 ========================= *
  document.body.innerHTML = `
        Задание #7
        <br>Написать функцию, которая принимает время (часы, минуты, секунды) и выводит его на экран в формате «чч:мм:сс».
        <br> Если при вызове функции минуты и/или секунды не были переданы, то выводить их как 00.
    `;

  // v1
  function setTimeV1(h, m, s) {
    let result = null;
    // часы
    if (h) { // если было переданно
      result = `${h} : `
    } else { // если небыло переданно
      result = `00 : `
    }

    // минуты
    if (m) {
      result += `${s} : `
    } else {
      result += `00 : `
    }

    // секунды
    if (s) {
      result += `${s}`
    } else {
      result += `00`
    }

    return result;
  }
  // console.log(setTimeV1(undefined, null, 20));

  // v2
  function setTimeV2(...time) {
    const arrTime = time.map((item) => {
      if (item) {
        return `${item}`;
      } else {
        return `00`;
      }
    });
    return arrTime.join(':');
  }
  // console.log(setTimeV2(undefined, null, 20));

  /* ============== end  #7 =========================== */

  /* ============== start  #8 ========================= *
  document.body.innerHTML = `
      Задание #8
      <br>Написать функцию, которая принимает часы, минуты и секунды и возвращает это время в секундах.
  `;
  let hover = 1;
  let min = 20;
  let sec = 10;

  // v1
  function toSecondsV1(h, m, s) {
      return ( (parseInt(h) * 60) + parseInt(m) ) * 60 + parseInt(s);
  }
  console.log(`v1 В секундах ${ toSecondsV1(hover,min,sec) }.`);

  function toSecondsV2(hoursValue, minutesValue, secondsValue) {
      // @Info Data = https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Date
      const startDate = new Date(2000,1,1);
      const newSetDate = new Date(2000,1,1);
      newSetDate.setHours(hoursValue, minutesValue, secondsValue);
      const result = newSetDate.getTime() - startDate.getTime();
      return result / 1000;
  }
  console.log(`v2 В секундах ${ toSecondsV2(hover,min,sec) }.`);
  /* ============== end  #8 =========================== */

  /* ============== start  #9 ========================= *
  document.body.innerHTML = `
      Задание #9
      <br>Написать функцию, которая принимает количество секунд,
       переводит их в ЧАСЫ, МИНУТЫ и СЕКУНДЫ
       и возвращает в виде строки «чч:мм:сс».
  `;

  function toDateV1(seconds) {
      seconds = Number(seconds);
      let d = Math.floor(seconds / 24);
      let h = Math.floor(seconds / 3600);
      let m = Math.floor(seconds % 3600 / 60);
      let s = Math.floor(seconds % 3600 % 60);

      let hDisplay = h > 0 ? h + (h == 1 ? " hour : " : " hours : ") : "00 : ";
      let mDisplay = m > 0 ? m + (m == 1 ? " minute : " : " minutes : ") : "00 : ";
      let sDisplay = s > 0 ? s + (s == 1 ? " second" : " seconds") : "00";
      return hDisplay + mDisplay + sDisplay;
  }
  console.log(toDateV1( toSecondsV2(hover,min,sec) ));

  // todo:
  function toDateV2(initSeconds) {
      const setDate = new Date();
      setDate.setSeconds(initSeconds);
      const now = new Date();
      const seconds = Math.abs( (now.getTime() - setDate.getTime()) / 1000 );
      console.log('seconds', seconds);

      const minutes = Math.round(Math.abs(seconds / 60));
      const hours = Math.round(Math.abs(minutes / 60));
      const days = Math.round(Math.abs(hours / 24));
      const months = Math.round(Math.abs(days / 30.416));
      const years = Math.round(Math.abs(days / 365));
      console.log(`${years} ${months} ${days} ${hours} ${minutes} ${seconds}`);
  }
  toDateV2( toSecondsV2(hover,min,sec) );
  /* ============== end  #9 =========================== */
</script>
</body>
</html>
